<html>
<body>
    <canvas id="canvas" width="1250" height="1250" style="border:1px solid #d3d3d3;">
</body>


<script type="text/javascript">

    var KC = {
        ESC : "esc",
        NO:"XXX",
        TRANSPARENT:"",
        TRNS:"",
        A:"A",
        B:"B",
        C:"C",
        D:"D",
        E:"E",
        F:"F",
        G:"G",
        H:"H",
        I:"I",
        J:"J",
        K:"K",
        L:"L",
        M:"M",
        N:"N",
        O:"O",
        P:"P",
        Q:"Q",
        R:"R",
        S:"S",
        T:"T",
        U:"U",
        V:"V",
        W:"W",
        X:"X",
        Y:"Y",
        Z:"Z",
        N1:"1/!",
        N2:"2/@",
        N3:"3/#",
        N4:"4/$",
        N5:"5/%",
        N6:"6/^",
        N7:"7/&",
        N8:"8/*",
        N9:"9/(",
        N0:"0/)",
        ENTER:"ENT",
        ENT:"ENT",
        ESCAPE:"ESC",
        ESC:"ESC",
        BSPACE:"BSPC",
        BSPC:"BSPC",
        TAB:"TAB",
        SPACE:"SPC",
        SPC:"SPC",
        MINUS:"-/_",
        MINS:"-/_",
        EQUAL:"=/+",
        EQL:"=/+",
        LBRACKET:"[/{",
        LBRC:"[/{",
        RBRACKET:"]/}",
        RBRC:"]/}",
        BSLASH:"\\/|",
        BSLS:"\\/|",
        SCOLON:";/:",
        SCLN:";/:",
        QUOTE:"'/\"",
        QUOT:"'/\"",
        GRAVE:"`/~",
        GRV:"`/~",
        COMMA:",/<",
        COMM:",/<",
        DOT:"./>",
        SLASH:"//?",
        SLSH:"//?",
        CAPSLOCK:"caplock",
        CLCK:"caplock",
        F1:"F1",
        F2:"F2",
        F3:"F3",
        F4:"F4",
        F5:"F5",
        F6:"F6",
        F7:"F7",
        F8:"F8",
        F9:"F9",
        F10:"F10",
        F11:"F11",
        F12:"F12",
        PSCREEN:"printscreen",
        PSCR:"printscreen",
        SCROLLLOCK:"scrolllock",
        SLCK:"scrolllock",
        PAUSE:"pause",
        PAUS:"pause",
        INSERT:"insert",
        INS:"insert",
        HOME:"home",
        PGUP:"pageup",
        DELETE:"delete",
        DEL:"delete",
        END:"end",
        PGDOWN:"pagedown",
        PGDN:"pagedown",
        RIGHT:"right",
        RGHT:"right",
        LEFT:"left",
        DOWN:"down",
        UP:"up",
        NUMLOCK:"numlock",
        NLCK:"numlock",
        KP_SLASH:"/",
        PSLS:"/",
        KP_ASTERISK:"*",
        PAST:"*",
        KP_MINUS:"-",
        PMNS:"-",
        KP_PLUS:"+",
        PPLS:"+",
        KP_ENTER:"enter",
        PENT:"enter",
        KP_1:"K1",
        P1:"K1",
        KP_2:"K2",
        P2:"K2",
        KP_3:"K3",
        P3:"K3",
        KP_4:"K4",
        P4:"K4",
        KP_5:"K5",
        P5:"K5",
        KP_6:"K6",
        P6:"K6",
        KP_7:"K7",
        P7:"K7",
        KP_8:"K8",
        P8:"K8",
        KP_9:"K9",
        P9:"K9",
        KP_0:"K0",
        P0:"K0",
        KP_DOT:"K.",
        PDOT:"K.",
        KP_EQUAL:"=",
        PEQL:"=",
    }

    _______ = KC.TRNS
    XXXXXXX = KC.N0 
    LOWER = "LOWER"; //KC.MO(1)
    RAISE = "RAISE"; //KC.MO(2)
    LALT_ENT = "alt"; //KC.MT(KC.ENTER,KC.LALT)
    RALT_ENT = "alt"; //KC.MT(KC.ENTER,KC.RALT)

    var coord_mapping = [
         0,  1,  2,  3,  4,  5,                    42, 41, 40, 39, 38, 37,
         7,  8,  9, 10, 11, 12,                    49, 48, 47, 46, 45, 44,
    28, 14, 15, 16, 17, 18, 19,                    56, 55, 54, 53, 52, 51, 65,
        21, 22, 23, 24, 25, 26, 27, 20,    57, 64, 63, 62, 61, 60, 59, 58,         
                   30, 31, 32, 33, 34,      71, 70, 69, 68, 67,  
                   35,36,                                72,73 
    ]

    var data = {
    "keys" :[
        [87.507155, 43.52602, -177],    //0
        [106.531034, 42.529021, -177],
        [128.868521, 38.33478, 180],
        [147.918507, 35.834786, 180],
        [166.968543, 38.334748, 180],
        [186.018518, 40.334785, 180],
        [20,40,0],                          //6
        [88.504137, 62.549927, -177],
        [107.528047, 61.552929, -177],
        [128.868519, 57.384778, 180],
        [147.918519, 54.884788, 180],
        [166.968536, 57.38477, 180],
        [186.018528, 59.384752, 180],
        [20,60,0],                          // 13
        [89.501141, 81.573822, -177], 
        [108.525046, 80.576824, -177],
        [128.868529, 76.434783, 180],
        [147.918515, 73.93479, 180],
        [166.968518, 76.434753, 180],
        [186.018542, 78.43478, 180],
        [227.354911, 121.634885, 139.5], //20
        [90.498127, 100.597704, -177], // 21
        [109.522026, 99.600719, -177],
        [128.868537, 95.484775, 180],
        [147.918533, 92.977278, 180], 
        [166.968535, 95.484764, 180],
        [186.018519, 97.484784, 180],
        [206.040132, 107.395393, 153], // 27
        [70.59766, 84.86766, -177], // 28 pinky
        [20,80,0],                       //29,
        [135.72392, 116.753015, 12],        //30
        [156.52986, 114.558883],
        [177.541264, 117.058463, -13.5],
        [197.391605, 124.369038, -27],
        [214.982962, 136.120562, -40.5],
 
    ],
    "hole1" : [

        [223.247088, 101.330639], //
        [200.247094, 89.630633], //
        [223.247095, 56.930644], //
    ],
    "hole2" :[
        [210.899641, 123.194258],
        [137.384115, 46.836171],
        [139.021284, 64.413276],
        [177.151281, 68.923262],
        [80.333192, 89.113988],
        [99.48792, 90.613548],
        [97.46632, 51.538002],
        [98.49095, 71.589648],
        [168.023177, 107.422185],
        [145.253172, 107.34218],
        [190.393201, 112.772207],
        [177.524117, 48.836171]
    ],

    "cut_pcb": [
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line_fp","start":[-1.8,-1.55],"end":[-1.8,1.55]},
        {"type":"line_fp","start":[1.8,1.55],"end":[1.8,-1.55]},
        {"type":"line_fp","start":[1.8,-1.55],"end":[-1.8,-1.55]},
        {"type":"line_fp","start":[-1.8,1.55],"end":[1.8,1.55]},
        {"type":"line","start":[166.055043,123.967253],"end":[146.996902,123.971322]},
        {"type":"arc","start":[157.282449,44.870743],"mid":[157.742064,45.061115],"end":[157.932447,45.520725],"internal":true},
        {"type":"line","start":[201.626725,137.085463],"end":[215.629496,149.051461]},
        {"type":"line","start":[184.617357,128.428034],"end":[201.626725,137.085463]},
        {"type":"arc","start":[149.332448,45.470732],"mid":[149.032473,45.170748],"end":[149.332438,44.870754],"internal":true},
        {"type":"arc","start":[146.507449,44.870726],"mid":[146.80748,45.17073],"end":[146.507447,45.470732],"internal":true},
        {"type":"line","start":[217.209331,49.970723],"end":[195.432446,49.97073]},
        {"type":"line","start":[118.882449,48.020725],"end":[118.882451,50.457481]},
        {"type":"line","start":[119.457451,48.470731],"end":[119.457969,51.027479]},
        {"type":"line","start":[78.565847,52.551619],"end":[77.652304,35.120242]},
        {"type":"line","start":[78.12545,34.594759],"end":[114.67672,32.679255]},
        {"type":"line","start":[78.637864,54.150033],"end":[79.826371,76.892179]},
        {"type":"line","start":[79.15246,75.497283],"end":[79.227207,76.9236]},
        {"type":"line","start":[61.664913,94.248203],"end":[60.730827,76.457793]},
        {"type":"line","start":[61.203973,75.932309],"end":[78.62698,75.024137]},
        {"type":"line","start":[80.658374,92.573591],"end":[81.575419,109.97773]},
        {"type":"line","start":[79.626332,84.536602],"end":[79.37513,79.74317]},
        {"type":"line","start":[79.974304,79.711772],"end":[80.225559,84.505216]},
        {"type":"line","start":[79.624304,93.807678],"end":[62.190395,94.721356]},
        {"type":"line","start":[80.097448,93.282198],"end":[80.059205,92.605016]},
        {"type":"line","start":[124.480709,109.063582],"end":[128.382142,127.41802]},
        {"type":"line","start":[146.996902,123.971322],"end":[128.97517,127.80314]},
        {"type":"line","start":[240.265486,120.979074],"end":[216.334425,148.995979]},
        {"type":"line","start":[226.313946,55.161852],"end":[226.313962,108.294925]},
        {"type":"line","start":[217.278232,49.981433],"end":[225.782001,54.31556]},
        {"type":"line","start":[217.209331,49.970723],"end":[217.278232,49.981433]},
        {"type":"arc","start":[156.83245,45.470728],"mid":[157.186003,45.617177],"end":[157.332448,45.970732],"internal":true},
        {"type":"arc","start":[130.282444,47.970726],"mid":[129.982453,47.670725],"end":[130.282454,47.370734],"internal":true},
        {"type":"arc","start":[127.457453,47.37073],"mid":[127.757481,47.670735],"end":[127.457447,47.970734],"internal":true},
        {"type":"arc","start":[118.88245,48.020718],"mid":[119.072833,47.561105],"end":[119.532449,47.370728],"internal":true},
        {"type":"line","start":[119.957451,47.970727],"end":[127.457447,47.970734]},
        {"type":"line","start":[119.532449,47.370728],"end":[127.457451,47.370729]},
        {"type":"arc","start":[119.457444,48.470726],"mid":[119.603894,48.117172],"end":[119.957451,47.970727],"internal":true},
        {"type":"arc","start":[123.454976,108.280831],"mid":[124.110371,108.485434],"end":[124.480709,109.063582]},
        {"type":"line","start":[157.932446,47.270733],"end":[157.932447,45.520725]},
        {"type":"line","start":[157.332449,47.470732],"end":[157.332448,45.970732]},
        {"type":"arc","start":[165.557447,47.37073],"mid":[165.857451,47.670724],"end":[165.557457,47.970728],"internal":true},
        {"type":"arc","start":[158.032444,47.37073],"mid":[157.961735,47.341439],"end":[157.932449,47.270729],"internal":true},
        {"type":"line","start":[165.557452,47.970728],"end":[157.832451,47.970732]},
        {"type":"line","start":[165.557447,47.37073],"end":[158.032444,47.37073]},
        {"type":"arc","start":[175.882449,47.970739],"mid":[176.236,48.117182],"end":[176.382448,48.470732],"internal":true},
        {"type":"line","start":[176.982445,49.270746],"end":[176.982449,48.020726]},
        {"type":"arc","start":[168.382437,47.970728],"mid":[168.082472,47.670738],"end":[168.382443,47.370754],"internal":true},
        {"type":"arc","start":[176.332448,47.370735],"mid":[176.792066,47.561111],"end":[176.982449,48.020726],"internal":true},
        {"type":"line","start":[168.38245,47.970729],"end":[175.882448,47.970731]},
        {"type":"line","start":[176.332448,47.370748],"end":[168.382443,47.370754]},
        {"type":"line","start":[176.382457,49.470729],"end":[176.382448,48.470732]},
        {"type":"arc","start":[184.607447,49.370743],"mid":[184.90745,49.670752],"end":[184.607441,49.970755],"internal":true},
        {"type":"line","start":[184.607445,49.970745],"end":[176.882445,49.970726]},
        {"type":"arc","start":[177.082447,49.370751],"mid":[177.011737,49.341458],"end":[176.982451,49.270745],"internal":true},
        {"type":"line","start":[184.607447,49.370743],"end":[177.082447,49.370751]},
        {"type":"line","start":[187.432448,49.970731],"end":[195.432446,49.97073]},
        {"type":"arc","start":[187.432445,49.970732],"mid":[187.132473,49.670747],"end":[187.432439,49.370756],"internal":true},
        {"type":"line","start":[194.932451,49.370746],"end":[187.432439,49.370756]},
        {"type":"arc","start":[195.432447,48.870748],"mid":[195.286002,49.2243],"end":[194.932451,49.370746]},
        {"type":"arc","start":[157.832449,47.970726],"mid":[157.478897,47.824282],"end":[157.332449,47.470732],"internal":true},
        {"type":"arc","start":[138.512443,47.47073],"mid":[138.365998,47.824278],"end":[138.012449,47.970722],"internal":true},
        {"type":"arc","start":[137.932447,47.270733],"mid":[137.903157,47.341445],"end":[137.832444,47.370734],"internal":true},
        {"type":"arc","start":[119.452447,29.420735],"mid":[119.598893,29.067179],"end":[119.952448,28.92073]},
        {"type":"line","start":[119.45245,31.960728],"end":[119.45245,29.420729]},
        {"type":"arc","start":[194.932442,30.920726],"mid":[195.285999,31.067171],"end":[195.432449,31.420725]},
        {"type":"arc","start":[119.452445,31.960733],"mid":[119.306,32.314284],"end":[118.95245,32.46073]},
        {"type":"line","start":[118.95245,32.46073],"end":[118.528397,32.474761]},
        {"type":"arc","start":[118.882446,50.457473],"mid":[118.736001,50.811029],"end":[118.382446,50.957479],"internal":true},
        {"type":"arc","start":[119.45798,51.027477],"mid":[119.311532,51.381032],"end":[118.957976,51.527479],"internal":true},
        {"type":"arc","start":[240.21001,120.27414],"mid":[240.383745,120.615118],"end":[240.265486,120.979074]},
        {"type":"line","start":[97.625893,52.053409],"end":[105.593235,51.635858]},
        {"type":"line","start":[97.527468,52.659391],"end":[105.624631,52.235032]},
        {"type":"arc","start":[105.593235,51.635865],"mid":[105.908546,51.919749],"end":[105.624631,52.235032],"internal":true},
        {"type":"arc","start":[108.445762,52.087186],"mid":[108.130473,51.803299],"end":[108.41436,51.48801],"internal":true},
        {"type":"line","start":[108.445757,52.087185],"end":[118.798279,51.544634]},
        {"type":"line","start":[108.41436,51.48801],"end":[118.257575,50.972148]},
        {"type":"arc","start":[86.569345,52.632861],"mid":[86.884658,52.916747],"end":[86.600741,53.232032],"internal":true},
        {"type":"arc","start":[89.42034,53.084101],"mid":[89.105011,52.800235],"end":[89.388908,52.484934],"internal":true},
        {"type":"line","start":[97.625893,52.053409],"end":[89.388908,52.484934]},
        {"type":"arc","start":[78.637868,54.150046],"mid":[78.765612,53.78931],"end":[79.111019,53.624559]},
        {"type":"line","start":[97.527468,52.659391],"end":[89.420311,53.084097]},
        {"type":"line","start":[79.091326,53.024763],"end":[86.569343,52.632857]},
        {"type":"line","start":[79.111019,53.624559],"end":[86.600741,53.232032]},
        {"type":"arc","start":[79.091318,53.024764],"mid":[78.730591,52.89702],"end":[78.565847,52.551619]},
        {"type":"arc","start":[77.652308,35.120243],"mid":[77.780048,34.75951],"end":[78.12545,34.594759]},
        {"type":"arc","start":[78.62698,75.024135],"mid":[78.987712,75.151879],"end":[79.15246,75.497283]},
        {"type":"arc","start":[79.826372,76.892186],"mid":[79.542498,77.207505],"end":[79.227207,76.9236]},
        {"type":"arc","start":[79.375135,79.743176],"mid":[79.659016,79.42786],"end":[79.974304,79.711772],"internal":true},
        {"type":"arc","start":[80.225563,84.505215],"mid":[79.941695,84.820544],"end":[79.626394,84.536645],"internal":true},
        {"type":"arc","start":[80.059207,92.605007],"mid":[80.343081,92.289686],"end":[80.658374,92.573591]},
        {"type":"arc","start":[82.100906,110.450877],"mid":[81.740171,110.323135],"end":[81.575419,109.97773]},
        {"type":"line","start":[118.382446,50.957479],"end":[118.257575,50.972148]},
        {"type":"line","start":[118.957976,51.527479],"end":[118.798279,51.544634]},
        {"type":"line","start":[226.372957,108.455818],"end":[226.313962,108.294925]},
        {"type":"arc","start":[225.781997,54.315553],"mid":[226.161832,54.667135],"end":[226.313946,55.161852]},
        {"type":"arc","start":[157.832452,28.92073],"mid":[157.478899,28.774284],"end":[157.332452,28.420732]},
        {"type":"line","start":[156.832448,26.420731],"end":[139.002449,26.420734]},
        {"type":"line","start":[176.382448,30.420729],"end":[176.382444,29.420733]},
        {"type":"line","start":[166.055043,123.967253],"end":[184.617357,128.428034]},
        {"type":"line","start":[137.932447,47.270733],"end":[137.93245,45.520723]},
        {"type":"arc","start":[62.190392,94.72135],"mid":[61.829661,94.593607],"end":[61.664913,94.248203]},
        {"type":"line","start":[138.512453,47.470727],"end":[138.507445,45.970732]},
        {"type":"line","start":[119.952448,28.92073],"end":[138.002453,28.92073]},
        {"type":"arc","start":[60.730827,76.457787],"mid":[60.85857,76.097056],"end":[61.203973,75.932309]},
        {"type":"arc","start":[137.932449,45.520723],"mid":[138.122832,45.061109],"end":[138.582448,44.870731],"internal":true},
        {"type":"line","start":[157.332452,28.420732],"end":[157.332448,26.920727]},
        {"type":"line","start":[82.100905,110.450878],"end":[123.454977,108.280828]},
        {"type":"arc","start":[138.507448,45.970724],"mid":[138.653898,45.617171],"end":[139.007453,45.470727],"internal":true},
        {"type":"arc","start":[176.882444,30.920725],"mid":[176.528893,30.77428],"end":[176.382448,30.420729]},
        {"type":"line","start":[149.332449,45.470733],"end":[156.83245,45.470728]},
        {"type":"line","start":[138.502449,26.920731],"end":[138.502452,28.42073]},
        {"type":"arc","start":[80.097451,93.282193],"mid":[79.969709,93.642927],"end":[79.624304,93.807678]},
        {"type":"line","start":[130.282448,47.970727],"end":[138.012449,47.970722]},
        {"type":"arc","start":[176.882447,49.970721],"mid":[176.5289,49.824276],"end":[176.382457,49.470729],"internal":true},
        {"type":"arc","start":[216.334425,148.995978],"mid":[215.993451,149.169715],"end":[215.629496,149.051461]},
        {"type":"line","start":[226.372957,108.455818],"end":[240.210006,120.274143]},
        {"type":"line","start":[138.582448,44.870731],"end":[146.507452,44.87072]},
        {"type":"arc","start":[175.882448,28.920735],"mid":[176.235999,29.067181],"end":[176.382444,29.420733]},
        {"type":"line","start":[114.67672,32.679255],"end":[118.528397,32.474761]},
        {"type":"arc","start":[138.502451,26.920732],"mid":[138.648897,26.56718],"end":[139.002449,26.420734]},
        {"type":"line","start":[157.282444,44.870745],"end":[149.332438,44.870754]},
        {"type":"line","start":[175.882447,28.920726],"end":[157.832444,28.920731]},
        {"type":"line","start":[195.432444,48.870749],"end":[195.432449,31.420725]},
        {"type":"line","start":[139.007453,45.470727],"end":[146.507447,45.470732]},
        {"type":"line","start":[194.932445,30.920727],"end":[176.882447,30.92073]},
        {"type":"line","start":[130.282454,47.370734],"end":[137.832441,47.370732]},
        {"type":"arc","start":[156.832445,26.420726],"mid":[157.186002,26.567173],"end":[157.33245,26.920729]},
        {"type":"arc","start":[128.975162,127.803136],"mid":[128.598892,127.733396],"end":[128.382142,127.41802]},
        {"type":"arc","start":[138.502443,28.420724],"mid":[138.356003,28.774278],"end":[138.002453,28.92073]}

    ],
    keymap : [
    [   //Main
                 KC.ESC,    KC.N1,   KC.N2,   KC.N3,   KC.N4,   KC.N5,                                      KC.N6,   KC.N7,   KC.N8,   KC.N9,  KC.N0,  KC.BSLASH,
                 KC.TAB,    KC.Q,    KC.W,    KC.E,    KC.R,    KC.T,                                       KC.Y,    KC.U,    KC.I,    KC.O,   KC.P,   KC.LBRC,
        KC.CAPS, KC.LSFT,   KC.A,    KC.S,    KC.D,    KC.F,    KC.G,                                       KC.H,    KC.J,    KC.K,    KC.L, KC.SCLN,  KC.QUOT, KC.RBRC,
                 KC.LCTL,   KC.Z,    KC.X,    KC.C,    KC.V,    KC.B, KC.DEL,KC.LGUI,   KC.INSERT, KC.BSPACE,  KC.N,    KC.M, KC.COMM,  KC.DOT, KC.SLSH,  KC.RCTL,
                                 KC.MUTE,KC.GRAVE, KC.EQUAL,  KC.SPACE,  LALT_ENT,                   RALT_ENT, LOWER,  KC.MINUS, RAISE, KC.PSCREEN, 
        //encoder
        KC.VOLU,
        KC.VOLD,  
        KC.MW_UP,
        KC.MW_DOWN
    ],
    [  //LOWER
                 _______, KC.F1,   KC.F2,   KC.F3,   KC.F4,   KC.F5,                                           KC.F6,   KC.F7,   KC.F8,   KC.F9,       KC.F10,   KC.F11,
                 _______, XXXXXXX, KC.MB_LMB,KC.MS_UP, KC.MB_RMB, KC.BSPACE,                                   KC.DEL,  KC.HOME, KC.UP,   KC.END,     KC.PGUP,   XXXXXXX,
        _______, _______, KC.APP,  KC.MS_LT,KC.MS_DOWN, KC.MS_RT, KC.DEL,                                      KC.BSPACE, KC.LEFT, KC.DOWN, KC.RIGHT, KC.PGDOWN,   XXXXXXX, KC.F12,
                 _______, XXXXXXX, XXXXXXX, KC.MB_MMB, XXXXXXX, XXXXXXX, _______,  _______,  _______, _______, XXXXXXX, KC.PGUP, KC.PGDOWN, XXXXXXX, XXXXXXX, _______,
                                     _______, _______, _______, _______, _______,                     _______, LOWER,  _______, RAISE,  _______,
        //encoder
        _______,
        _______, 
        _______,
        _______
    ],
    [  //RAISE
                 _______, KC.F1,   KC.F2,   KC.F3,   KC.F4,   KC.F5,                                         KC.F6,   KC.F7,   KC.F8,   KC.F9,       KC.F10,   KC.F11,
                 _______, KC.NO  , KC.N1, KC.N2, KC.N3, KC.BSPACE,                                     KC.DEL,  KC.HOME, KC.UP,   KC.END,     KC.PGUP,   XXXXXXX,
        _______, _______, KC.NO,  KC.N4, KC.N5, KC.N6, KC.DEL,                                       KC.BSPACE, KC.LEFT, KC.DOWN, KC.RIGHT, KC.PGDOWN,   XXXXXXX, KC.F12,
                 _______, KC.NO, KC.N7, KC.N8, KC.N9, KC.DOT, _______,  _______,  _______, _______, XXXXXXX, KC.PGUP, KC.PGDOWN, XXXXXXX, XXXXXXX, _______,
                                     _______, _______, _______, _______, _______,                   _______, LOWER,  _______, RAISE,  _______,
        //encoder
        _______,
        _______, 
        _______,
        _______
    ]
]

}

var canvas = document.getElementById('canvas');
var ctx = canvas.getContext('2d');

ctx.scale(5,5);

ctx.lineWidth = 1;
ctx.font = "4px serif";
ctx.strokeStyle = "black";


c = 0;
ctx.strokeStyle = 'green';
for (i of data.keys) {
    ctx.save();
    ctx.translate(i[0], i[1]);
    if (c >= 30 || c === 29 || c === 13 || c === 6)
        ctx.rotate(-i[2] * Math.PI / 180);
    else 
        ctx.rotate(-i[2] * Math.PI / 180 + Math.PI); 
    ctx.beginPath();
    var text = `(${c})`;
    cm = coord_mapping.indexOf(c);
    if (data.keymap[0][cm] )
        text = data.keymap[0][cm];
    ctx.fillText(text, 0,0);
    ctx.stroke();

    ctx.beginPath();
    
    ctx.moveTo( - 5,  - 5);
    ctx.lineTo( + 5, - 5);
    ctx.lineTo( + 5,  + 5);
    ctx.lineTo( - 5,  + 5);
    ctx.lineTo( - 5,  - 5);
    ctx.stroke();
    ctx.restore();
    c++;
}


ctx.strokeStyle = "red";
for (i of data.hole1) {
    
    ctx.beginPath();
    ctx.arc(i[0], i[1], 2.2/2, 0, 2 * Math.PI);
    ctx.stroke();
}

ctx.strokeStyle = 'blue';
for (i of data.hole2) {
    ctx.beginPath();
    ctx.arc(i[0], i[1], 4.2/2, 0, 2 * Math.PI);
    c++;
    ctx.stroke();
}

ctx.strokeStyle = 'black';
ctx.lineWidth = 1;

for (i of data.cut_pcb) {
    if (i.type == 'line') {
        ctx.beginPath();
        ctx.moveTo(i.start[0], i.start[1]);
        ctx.lineTo(i.end[0], i.end[1]);
        ctx.stroke();
    } else  if (i.type == 'arc') {
        
        ctx.beginPath();
        ctx.arc(i.mid[0], i.mid[1], Math.sqrt(Math.pow(i.mid[0] - i.start[0], 2) + Math.pow(i.mid[1] - i.start[1], 2)), Math.atan2(i.start[1] - i.mid[1], i.start[0] - i.mid[0]), Math.atan2(i.end[1] - i.mid[1], i.end[0] - i.mid[0]));
        ctx.stroke();
        ctx.beginPath();
        ctx.stroke();
    }
}

</script>
</html>






